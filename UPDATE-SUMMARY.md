# üìã –°–≤–æ–¥–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤–µ—Ä—Å–∏–∏ 2.2.1

**–î–∞—Ç–∞:** 2025-01-18  
**–í–µ—Ä—Å–∏—è:** 2.2.1

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–Ω–µ —Ç–æ–ª—å–∫–æ ADMIN_USERNAME)
- –í—Ö–æ–¥ –ø–æ email –∏–ª–∏ name (–ª–æ–≥–∏–Ω—É)
- –£–±—Ä–∞–Ω –∫–æ–Ω—Ñ–ª–∏–∫—Ç PrismaAdapter —Å JWT strategy
- –£–ª—É—á—à–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ —Å–µ—Å—Å–∏–π

### ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ API
- UI –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∞–¥–º–∏–Ω–∫–∏
- –°–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è–º–∏ –∏ —Ä–æ–ª—è–º–∏

### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏
- `prisma migrate deploy` –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### ‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- 5 –Ω–æ–≤—ã—Ö npm —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ö–æ–¥–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üìÅ –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã

```
scripts/
‚îú‚îÄ‚îÄ init-admin.js          ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
‚îú‚îÄ‚îÄ check-auth.js          ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îú‚îÄ‚îÄ fix-user.js            ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îú‚îÄ‚îÄ force-fix-user.js      ‚úÖ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
‚îî‚îÄ‚îÄ test-login.js          ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ö–æ–¥–∞

src/app/api/users/
‚îú‚îÄ‚îÄ route.ts               ‚úÖ GET, POST - —Å–ø–∏—Å–æ–∫ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ
‚îî‚îÄ‚îÄ [id]/route.ts          ‚úÖ PUT, DELETE - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ

src/components/admin/
‚îî‚îÄ‚îÄ UserManagement.tsx     ‚úÖ UI —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
‚îú‚îÄ‚îÄ DEPLOY-UPDATE.md       ‚úÖ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –Ω–∞ –í–ú
‚îú‚îÄ‚îÄ DIAGNOSE-LOGIN.md      ‚úÖ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º —Å –≤—Ö–æ–¥–æ–º
‚îú‚îÄ‚îÄ GIT-COMMIT.md          ‚úÖ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∫–æ–º–º–∏—Ç—É
‚îî‚îÄ‚îÄ UPDATE-SUMMARY.md      ‚úÖ –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üîß –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `Dockerfile` - –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤
- `package.json` - –Ω–æ–≤—ã–µ npm —Å–∫—Ä–∏–ø—Ç—ã
- `src/lib/auth.ts` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `src/lib/db.ts` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω name –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- `install.sh`, `deploy.sh` - —É–ª—É—á—à–µ–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏
- `nginx.conf` - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è Next.js
- `setup-env.sh` - —É–ª—É—á—à–µ–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ NEXTAUTH_URL

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:
```bash
cd my-portfolio-site
git add .
git commit -m "feat: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏"
git push origin main
```

### –ù–∞ –í–ú:
```bash
cd /var/www/zelyonkin.ru
git pull origin main
docker-compose build --no-cache
docker-compose up -d
docker-compose exec web npm run db:migrate
docker-compose exec web npm run db:force-fix-user
```

## üìù –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

- **–õ–æ–≥–∏–Ω:** `skre4karta` –∏–ª–∏ `zelyonkin.d@gmail.com`
- **–ü–∞—Ä–æ–ª—å:** `1234`

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `DEPLOY-UPDATE.md` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é
- `DIAGNOSE-LOGIN.md` - —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –≤—Ö–æ–¥–æ–º
- `GIT-COMMIT.md` - –∫–æ–º–∞–Ω–¥—ã –¥–ª—è git
- `CHANGELOG.md` - –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

