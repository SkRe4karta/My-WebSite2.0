# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã –≤—Ö–æ–¥–∞

## –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
cd /var/www/zelyonkin.ru

# 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ö–æ–¥–∞ (–ø—Ä–æ–≤–µ—Ä–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–∞—Ä–æ–ª—å)
docker-compose exec web npm run db:test-login

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
docker-compose exec web npm run db:check-auth

# 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–±–Ω–æ–≤–∏—Ç name –∏ –ø–∞—Ä–æ–ª—å)
docker-compose exec web npm run db:fix-user
```

## –ü–æ—à–∞–≥–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —Å–æ–∑–¥–∞–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

```bash
docker-compose exec web npm run db:test-login
```

–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω:
```bash
docker-compose exec web npm run db:init-admin
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª

```bash
cat .env | grep ADMIN
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
ADMIN_USERNAME=skre4karta
ADMIN_EMAIL=zelyonkin.d@gmail.com
ADMIN_PASSWORD_HASH=$2b$10$... (bcrypt —Ö–µ—à –ø–∞—Ä–æ–ª—è "1234")
```

### –®–∞–≥ 3: –ò—Å–ø—Ä–∞–≤—å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
docker-compose exec web npm run db:fix-user
```

–≠—Ç–æ –æ–±–Ω–æ–≤–∏—Ç:
- `name` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ `skre4karta`
- –ü–∞—Ä–æ–ª—å –∏–∑ `.env`

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –≤—Ö–æ–¥–∞

```bash
docker-compose logs -f web
```

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –≤—Ö–æ–¥–∞ –≤—ã —É–≤–∏–¥–∏—Ç–µ:
- üîç –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–π–¥–µ–Ω (–∏–ª–∏ ‚ùå –Ω–µ –Ω–∞–π–¥–µ–Ω)
- üîê –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞ (–∏–ª–∏ –æ—à–∏–±–∫–∞)

### –®–∞–≥ 5: –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
- **–õ–æ–≥–∏–Ω:** `skre4karta` –∏–ª–∏ `zelyonkin.d@gmail.com`
- **–ü–∞—Ä–æ–ª—å:** `1234`

## –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
# –£–¥–∞–ª–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –ë–î (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
docker-compose exec web npx prisma studio
# –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5555 –∏ —É–¥–∞–ª–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—Ä—É—á–Ω—É—é

# –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–Ω–æ–≤–æ
docker-compose exec web npm run db:init-admin
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ API

```bash
# –°–Ω–∞—á–∞–ª–∞ –≤–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (–µ—Å–ª–∏ –µ—Å—Ç—å –¥—Ä—É–≥–æ–π –∞–∫–∫–∞—É–Ω—Ç)
# –ó–∞—Ç–µ–º —Å–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ UI –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞–ø—Ä—è–º—É—é

```bash
docker-compose exec web npx prisma studio
```

–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5555 –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –ï—Å—Ç—å –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ —Ç–∞–±–ª–∏—Ü–µ `User`
- –ö–∞–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –ø–æ–ª–µ `name`
- –ö–∞–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –ø–æ–ª–µ `email`
- –ö–∞–∫–æ–π —Ö–µ—à –≤ –ø–æ–ª–µ `passwordHash`

## –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ö–µ—à–∞ –ø–∞—Ä–æ–ª—è

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ö–µ—à –¥–ª—è –ø–∞—Ä–æ–ª—è "1234":

```bash
docker-compose exec web node -e "const bcrypt = require('bcryptjs'); bcrypt.hash('1234', 10).then(h => console.log(h))"
```

–ó–∞—Ç–µ–º –æ–±–Ω–æ–≤–∏—Ç–µ `.env`:
```bash
ADMIN_PASSWORD_HASH=<–ø–æ–ª—É—á–µ–Ω–Ω—ã–π_—Ö–µ—à>
```

–ò –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
docker-compose restart web
docker-compose exec web npm run db:fix-user
```

